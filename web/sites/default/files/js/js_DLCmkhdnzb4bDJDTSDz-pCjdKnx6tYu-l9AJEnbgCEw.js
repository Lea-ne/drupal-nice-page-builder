/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(($,Drupal,Sortable)=>{Drupal.behaviors.MediaLibraryWidgetSortable={attach(context){const selection=context.querySelectorAll('.js-media-library-selection');selection.forEach((widget)=>{Sortable.create(widget,{draggable:'.js-media-library-item',handle:'.js-media-library-item-preview',onEnd:()=>{$(widget).children().each((index,child)=>{$(child).find('.js-media-library-item-weight')[0].value=index;});}});});}};Drupal.behaviors.MediaLibraryWidgetToggleWeight={attach(context){const strings={show:Drupal.t('Show media item weights'),hide:Drupal.t('Hide media item weights')};const mediaLibraryToggle=once('media-library-toggle','.js-media-library-widget-toggle-weight',context);$(mediaLibraryToggle).on('click',(e)=>{e.preventDefault();const $target=$(e.currentTarget);e.currentTarget.textContent=$target.hasClass('active')?strings.show:strings.hide;$target.toggleClass('active').closest('.js-media-library-widget').find('.js-media-library-item-weight').parent().toggle();});mediaLibraryToggle.forEach((item)=>{item.textContent=strings.show;});$(once('media-library-toggle','.js-media-library-item-weight',context)).parent().hide();}};Drupal.behaviors.MediaLibraryWidgetDisableButton={attach(context){once('media-library-disable','.js-media-library-open-button[data-disabled-focus="true"]',context).forEach((button)=>{$(button).focus();setTimeout(()=>{$(button).attr('disabled','disabled');},50);});}};})(jQuery,Drupal,Sortable);;
(function($,Drupal,once){'use strict';var clickHandler=function(event){event.preventDefault();event.stopPropagation();var $button=$(this);var $anchorRow=$button.closest('tr');var delta=$anchorRow.parent().find('> .draggable').index($anchorRow);var $table=$button.closest('.field-multiple-table');var $layer_wrapper=$table.closest('.layer-wrapper');$table=$layer_wrapper.length>0?$layer_wrapper:$table;var $add_more_wrapper=$table.siblings('.clearfix,.form-actions,.multiple-value-form-actions,.field-actions').find('.paragraphs-add-wrapper');$add_more_wrapper.find('.paragraph-type-add-delta').val(delta);if($add_more_wrapper.find('.paragraph-type-add-delta').hasClass('modal'))Drupal.paragraphsAddModal.openDialog($add_more_wrapper.find('.paragraphs-add-dialog'),Drupal.t('Add above'));else $add_more_wrapper.find('.field-add-more-submit').trigger('mousedown');};Drupal.behaviors.paragraphsAddAboveButton={attach:function(context,settings){$(once('paragraphs-add-above-button','.paragraphs-dropdown-actions',context)).each(function(){var $actions=$(this);if($actions.closest('.paragraph-top').hasClass('add-above-on')){var $add_above=false;var $table=$actions.closest('.field-multiple-table');var $layer_wrapper=$table.closest('.layer-wrapper');$table=$layer_wrapper.length>0?$layer_wrapper:$table;var $add_more_wrapper=$table.siblings('.clearfix,.form-actions,.multiple-value-form-actions,.field-actions').find('.paragraphs-add-wrapper');if($add_more_wrapper.find('.paragraph-type-add-delta').hasClass('modal')||$add_more_wrapper.find('.field-add-more-submit').length===1)$add_above=true;if($add_above){var $button=$('<input class="paragraphs-dropdown-action paragraphs-dropdown-action--add-above button button--small js-form-submit form-submit" type="submit" onClick="return false;" value="'+Drupal.t('Add above')+'">');$button.on('mousedown',clickHandler);$actions.prepend($button);}}});}};})(jQuery,Drupal,once);;
(function($,Drupal,once){'use strict';Drupal.behaviors.paragraphsModalAdd={attach:function(context){$(once('add-click-handler','.paragraph-type-add-modal-button',context)).on('click',function(event){var $button=$(this);Drupal.paragraphsAddModal.openDialog($button.parent().siblings('.paragraphs-add-dialog'),$button.val());event.preventDefault();event.stopPropagation();});}};Drupal.paragraphsAddModal={};Drupal.paragraphsAddModal.openDialog=function(element,title){var $element=$(element);var $modalDelta=$element.parent().find('.paragraph-type-add-delta');$element=$element.clone(true);var dialog=Drupal.dialog($element,{autoResize:true,resizable:false,title,width:'auto',paragraphsModalDelta:$modalDelta});dialog.showModal();$(once('paragraphs-add-more-submit-modal',$element.find('.field-add-more-submit'))).on('mousedown',function(){dialog.close();});return dialog;};$(window).on({'dialog:afterclose':function(event,dialog,$element){if($element.dialog('instance')&&$element.dialog('option','paragraphsModalDelta'))$element.dialog('option','paragraphsModalDelta').val('');}});})(jQuery,Drupal,once);;
